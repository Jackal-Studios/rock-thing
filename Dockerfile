WORKDIR /home/crunch_user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B        buildkit.dockerfile.v0
RUN /bin/sh -c pip3 install --no-cache-dir --break-system-packages     jupyterlab     crunchflow==2.0.4     pyDGSA==1.0.5     pyEMU==1.3.5 # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     608MB     buildkit.dockerfile.v0
ENV PATH=/home/crunch_user/crunchtope:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        0B        buildkit.dockerfile.v0
RUN /bin/sh -c wget https://github.com/CISteefel/CrunchTope/releases/download/v2.10/CrunchTope-2.10.tar.gz &&     tar -xvzf CrunchTope-2.10.tar.gz &&     rm CrunchTope-2.10.tar.gz &&     mv CrunchTope-2.10 crunchtope &&     cd crunchtope &&     make &&     rm -rf /home/crunch_user/crunchtope/*.o /home/crunch_user/crunchtope/Makefile            /home/crunch_user/crunchtope/*f.90 &&     rm -rf /home/crunch_user/petsc # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             84MB      buildkit.dockerfile.v0
WORKDIR /home/crunch_user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B        buildkit.dockerfile.v0
RUN /bin/sh -c git clone https://gitlab.com/petsc/petsc.git $PETSC_DIR &&     cd $PETSC_DIR &&     git checkout v3.21.6 &&     ./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran                 --with-debugging=0 --with-shared-libraries=0                 --with-x=0 LIBS=-lstdc++ --with-c2html=0                 --with-cxx-dialect=C++11 --with-mpi=0 &&     make PETSC_DIR=$PETSC_DIR PETSC_ARCH=$PETSC_ARCH all &&     make PETSC_DIR=$PETSC_DIR PETSC_ARCH=$PETSC_ARCH check &&     rm -rf $PETSC_DIR/src $PETSC_DIR/arch-$PETSC_ARCH/conf            $PETSC_DIR/arch-$PETSC_ARCH/tests $PETSC_DIR/arch-$PETSC_ARCH/share # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  836MB     buildkit.dockerfile.v0
ENV PETSC_ARCH=arch-linux-c-opt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0B        buildkit.dockerfile.v0
ENV PETSC_DIR=/home/crunch_user/petsc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B        buildkit.dockerfile.v0
ENV PETSC_ARCH=arch-linux-c-opt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0B        buildkit.dockerfile.v0
ENV PETSC_DIR=/home/crunch_user/petsc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     0B        buildkit.dockerfile.v0
RUN /bin/sh -c apt-get update && apt-get install -y     liblapack-dev python3 python3-pip git make cmake wget &&     apt-get clean && rm -rf /var/lib/apt/lists/* # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              125MB     buildkit.dockerfile.v0
WORKDIR /home/crunch_user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 0B        buildkit.dockerfile.v0
RUN /bin/sh -c set -ex;  dpkg-divert --divert /usr/bin/gcc.orig --rename /usr/bin/gcc;  dpkg-divert --divert /usr/bin/g++.orig --rename /usr/bin/g++;  dpkg-divert --divert /usr/bin/gfortran.orig --rename /usr/bin/gfortran;  update-alternatives --install /usr/bin/cc cc /usr/local/bin/gcc 999 # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            11.6kB    buildkit.dockerfile.v0
RUN /bin/sh -c set -ex;  { echo '/usr/local/lib64'; echo '/usr/local/lib'; } > /etc/ld.so.conf.d/000-local-lib.conf;  ldconfig -v;  deb="$(readlink -ve /usr/lib/*/libstdc++.so* | head -1)";  gcc="$(readlink -ve /usr/local/lib*/libstdc++.so | head -1)";  LD_PRELOAD="$deb" abidiff --no-added-syms "$deb" "$gcc" # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          42.4kB    buildkit.dockerfile.v0
RUN /bin/sh -c set -ex;   savedAptMark="$(apt-mark showmanual)";  apt-get update;  apt-get install -y --no-install-recommends   dpkg-dev   flex   gnupg  ;  rm -r /var/lib/apt/lists/*;   _fetch() {   local fetch="$1"; shift;   local file="$1"; shift;   for mirror in $GCC_MIRRORS; do    if curl -fL "$mirror/$fetch" -o "$file"; then     return 0;    fi;   done;   echo >&2 "error: failed to download '$fetch' from several mirrors";   return 1;  };   _fetch "gcc-$GCC_VERSION/gcc-$GCC_VERSION.tar.xz.sig" 'gcc.tar.xz.sig';  _fetch "gcc-$GCC_VERSION/gcc-$GCC_VERSION.tar.xz" 'gcc.tar.xz';  export GNUPGHOME="$(mktemp -d)";  for key in $GPG_KEYS; do   gpg --batch --keyserver keyserver.ubuntu.com --recv-keys "$key";  done;  gpg --batch --verify gcc.tar.xz.sig gcc.tar.xz;  gpgconf --kill all;  rm -rf "$GNUPGHOME";  mkdir -p /usr/src/gcc;  tar -xf gcc.tar.xz -C /usr/src/gcc --strip-components=1;  rm gcc.tar.xz*;   cd /usr/src/gcc;   ./contrib/download_prerequisites;  { rm *.tar.* || true; };   for f in config.guess config.sub; do   wget -O "$f" "https://git.savannah.gnu.org/cgit/config.git/plain/$f?id=7d3d27baf8107b630586c962c057e22149653deb";   find -mindepth 2 -name "$f" -exec cp -v "$f" '{}' ';';  done;   dir="$(mktemp -d)";  cd "$dir";   extraConfigureArgs='';  dpkgArch="$(dpkg --print-architecture)";  case "$dpkgArch" in   armel)    extraConfigureArgs="$extraConfigureArgs --with-arch=armv5te --with-float=soft"    ;;   armhf)    extraConfigureArgs="$extraConfigureArgs --with-arch=armv7-a+fp --with-float=hard --with-mode=thumb"    ;;     i386)    extraConfigureArgs="$extraConfigureArgs --with-arch-32=i686";    ;;  esac;   gnuArch="$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)";  /usr/src/gcc/configure   --build="$gnuArch"   --disable-multilib   --enable-languages=c,c++,fortran,go   $extraConfigureArgs  ;  make -j "$(nproc)";  make install-strip;   cd ..;   rm -rf "$dir" /usr/src/gcc;   apt-mark auto '.*' > /dev/null;  [ -z "$savedAptMark" ] || apt-mark manual $savedAptMark;  apt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false # buildkit   449MB     buildkit.dockerfile.v0
ENV GCC_VERSION=14.2.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0B        buildkit.dockerfile.v0
ENV GCC_MIRRORS=https://ftpmirror.gnu.org/gcc   https://mirrors.kernel.org/gnu/gcc   https://bigsearcher.com/mirrors/gcc/releases   http://www.netgull.com/gcc/releases   https://ftpmirror.gnu.org/gcc   https://sourceware.org/pub/gcc/releases   ftp://ftp.gnu.org/gnu/gcc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             0B        buildkit.dockerfile.v0
ENV GPG_KEYS=B215C1633BCA0477615F1B35A5B3A004745C015A  B3C42148A44E6983B3E4CC0793FA9B1AB75C61B8  90AA470469D3965A87A5DCB494D03953902C9419  80F98B2E0DAB6C8281BDF541A7C8C3B2F71EDF1C  7F74F97C103468EE5D750B583AB00996FC26A641  33C235A34C46AA3FFB293709A328C3A2C3C45C06  D3A93CAD751C2AF4F8C7AD516C35B99309B5FA62                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         0B        buildkit.dockerfile.v0
RUN /bin/sh -c set -eux;  apt-get update;  apt-get install -y --no-install-recommends   abigail-tools  ;  rm -rf /var/lib/apt/lists/* # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          6.7MB     buildkit.dockerfile.v0
RUN /bin/sh -c set -ex;  apt-get update;  apt-get install -y --no-install-recommends   autoconf   automake   bzip2   default-libmysqlclient-dev   dpkg-dev   file   g++   gcc   imagemagick   libbz2-dev   libc6-dev   libcurl4-openssl-dev   libdb-dev   libevent-dev   libffi-dev   libgdbm-dev   libglib2.0-dev   libgmp-dev   libjpeg-dev   libkrb5-dev   liblzma-dev   libmagickcore-dev   libmagickwand-dev   libmaxminddb-dev   libncurses5-dev   libncursesw5-dev   libpng-dev   libpq-dev   libreadline-dev   libsqlite3-dev   libssl-dev   libtool   libwebp-dev   libxml2-dev   libxslt-dev   libyaml-dev   make   patch   unzip   xz-utils   zlib1g-dev  ;  rm -rf /var/lib/apt/lists/* # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            560MB     buildkit.dockerfile.v0
RUN /bin/sh -c set -eux;  apt-get update;  apt-get install -y --no-install-recommends   git   mercurial   openssh-client   subversion     procps  ;  rm -rf /var/lib/apt/lists/* # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               183MB     buildkit.dockerfile.v0
RUN /bin/sh -c set -eux;  apt-get update;  apt-get install -y --no-install-recommends   ca-certificates   curl   gnupg   netbase   sq   wget  ;  rm -rf /var/lib/apt/lists/* # buildkit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   47.8MB    buildkit.dockerfile.v0
# debian.sh --arch 'arm64' out/ 'bookworm' '@1734912000'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  139MB     debuerreotype 0.15
